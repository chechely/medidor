<!DOCTYPE html>
<html lang='pt-br'>
<html>
    <head>

      <!--TITULO DO SITE-->

        <title>Medidor de Vazão</title>

        <!--PARA O SITE FUNCIONAR PERFEITAMENTE EM GRANDE PARTE DOS NAVEGADORES-->

        <meta charset="UTF-8" />

        <!--ADICIONA IMAGEM AO ICONE DO SITE-->

        <link rel="icon" type="imagem/png" href="img/Logo.png">

        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!--LINK PARA BOOTSTRAP-->

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script>
        
        
        <!--LINK PARA JQUERY-->

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

        <!--LINK PARA CHART JS-->
        <script>"https://www.jsdelivr.com/package/npm/chart.js?path=dist"</script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>

    /* MUDA COR DO MENU */
            
    .offcanvas-title{
        color:blanchedalmond;
    }
            
    /* MUDA O TAMANHO DA FONTE  DO MENU */    
            
    .nav-item a button{
         font-size: 20px;
    }
            
    /* MUDA O TAMANHO DO MENU */
            
    #offcanvasWithBothOptions{
        width: 230px;
    }
            
    /* MARGEM DO MENU */
            
    nav{
        margin-bottom: 20px;
    }
            
    /* MUDA A COR, TAMANHO E POSIÇÃO DO RODAPÉ */
    
    footer{
        bottom:0px;
        width:100%;
        position:fixed;
        color:blanchedalmond;
    }
 
    /* MUDA O TAMANHO, ALTURA E A MARGEM DOS BOTÕES DE PESQUISA */

    #pesq{
        max-width: 400px;
        margin: auto;
    }
    #proc{
        height: 50px;
    }
    #proc2{
        text-align: center;
    }
    #pesq2{
        text-align: right;
        margin-right: 5px;
    }

    /* MUDA A COR, TAMANHO E MARGEM DA TABELA */
    
    #tabela_h{
        margin: 5px;
        margin-bottom:50px ;
    }
    #tabela_edit_h{
        display: none;
        margin: 5px;
        margin-bottom:50px ;
    }
        </style>
<script>

// ESCONDE A TABELA ESTATICA E MOSTRA A TABELA DINAMICA

    $(document).ready(function(){
        $(".editar_h").click(function(){
            $("#tabela_edit_h").show();
            $("#tabela_h").hide();
        });
      });

      $(document).ready(function(){
        $(".cancelar").click(function(){
            $("#tabela_h").show();
            $("#tabela_edit_h").hide();
        });
      });

    </script>
</head>
<body>  

     <!-- MENU OFFCANVAS-->

     <nav class="navbar navbar-primary bg-primary" >
        <button class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasWithBothOptions" aria-controls="offcanvasWithBothOptions" >
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
              </svg>
        </button> 

    <!-- TITULO MENU OFFCANVAS COM BOTÃO PARA FECHAR -->

        <div class="offcanvas offcanvas-start bg-primary" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="offcanvasWithBothOptions" aria-labelledby="offcanvasScrollingLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel">Menu</h5>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>

    <!-- CORPO DO MENU -->

            <div class="offcanvas-body">
             <ul class="nav flex-column">

    <!-- BOTÃO QUE REDIRECIONA  PARA O INICIO -->

                 <li class="nav-item">
                     <a  class="nav-link active" aria-current="page" href="/Inicio"><button  class="btn btn-primary" type="button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"/>
                            <path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"/>
                          </svg>
                        Inicio</button></a>
                 </li>

    <!-- BOTÃO QUE REDIRECIONA  PARA O CADASTRO DE MEDIDORES -->

                 <li class="nav-item">
                    <a  class="nav-link active" aria-current="page" href="Medidor"><button  class="btn btn-primary" type="button" >
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-speedometer2" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5V6a.5.5 0 0 1-1 0V4.5A.5.5 0 0 1 8 4zM3.732 5.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707zM2 10a.5.5 0 0 1 .5-.5h1.586a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 10zm9.5 0a.5.5 0 0 1 .5-.5h1.5a.5.5 0 0 1 0 1H12a.5.5 0 0 1-.5-.5zm.754-4.246a.389.389 0 0 0-.527-.02L7.547 9.31a.91.91 0 1 0 1.302 1.258l3.434-4.297a.389.389 0 0 0-.029-.518z"/>
                            <path fill-rule="evenodd" d="M0 10a8 8 0 1 1 15.547 2.661c-.442 1.253-1.845 1.602-2.932 1.25C11.309 13.488 9.475 13 8 13c-1.474 0-3.31.488-4.615.911-1.087.352-2.49.003-2.932-1.25A7.988 7.988 0 0 1 0 10zm8-7a7 7 0 0 0-6.603 9.329c.203.575.923.876 1.68.63C4.397 12.533 6.358 12 8 12s3.604.532 4.923.96c.757.245 1.477-.056 1.68-.631A7 7 0 0 0 8 3z"/>
                          </svg>
                        Medidores</button></a>
                </li>

    <!-- BOTÃO QUE REDIRECIONA  PARA A LOCALIZAÇÃO -->

                 <li class="nav-item">
                     <a  class="nav-link active" aria-current="page" href="Localizacao"><button  class="btn btn-primary" type="button" >
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-geo-alt" viewBox="0 0 16 16">
                            <path d="M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z"/>
                            <path d="M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                          </svg>
                        Localização</button></a>
                 </li>

    <!-- BOTÃO QUE REDIRECIONA  PARA OS SEUS DADOS -->

                 <li class="nav-item">
                    <a  class="nav-link active" aria-current="page" href="Seus-dados"><button  class="btn btn-primary" type="button" >
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                            <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
                          </svg>
                        Seus dados</button></a>
                </li>
             </ul>
            </div>

    <!-- BOTÃO QUE REDIRECIONA  PARA A SAÍDA -->

            <a  class="nav-link active" aria-current="page" href="Sair"><button  class="btn btn-primary" type="button" >
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"/>
                    <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"/>
                  </svg>
                Sair</button></a>
        </div>

    <!-- FORMULARIO DE PESQUISA -->

          <form id="pesq2"  class="d-flex">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-dark" type="submit">Search</button>
          </form>              
     </nav>

    <!-- CONTAINER -->

<div class="container-fluid">

    <!-- RECEBE O NOME DO MEDIDOR -->

             <div id="pesq" class="row g-1">
                <div class="col-md">
                  <div class="form-floating">
                    <input id="longitude" type="text" class="form-control" id="floatingInputGrid" placeholder="name@example.com" value="">
                    <label id="longi" for="floatingInputGrid">Nome do medidor</label>
                  </div>
                </div>

    <!-- RECEBE A DATA DO MEDIÇÃO -->

                <div class="col-md">
                  <div class="form-floating">
                    <div class="form-floating">
                        <input id="latitude" type="date" class="form-control" id="floatingInputGrid" placeholder="name@example.com" value="">
                        <label id="lati" for="floatingInputGrid">Data</label>
                      </div>
                  </div>
                </div>

    <!-- BOTÃO QUE REALIZA A PESQUISA -->

                <div id="proc2" class="col-md">
                    <div class="form-floating">
                        <button id="proc"  class="btn btn-primary" type="submit">Procurar</button>
                    </div>
                  </div>
              </div>

    <!-- TABELA -->

        <div id="tabela_h" class="table-responsive">

    <!-- TITULOS DAS COLUNAS -->

            <table class="table table-hover table-bordered border-dark">
                <thead>
                  <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Nome</th>
                    <th scope="col">Estado</th>
                    <th scope="col">Cidade</th>
                    <th scope="col">Vazao</th>
                    <th scope="col">Data</th>
                    <th scope="col">Horario</th>
                    <th scope="col">Alterações</th>
                  </tr>
                </thead>

    <!-- DADOS QUE PREENCHERÃO A TABELA -->

                <tbody>
                    <% for (item of historico) { %>
                        <tr>
                            <td style="text-align: center;"><%- item.id_medidor %></td>
                            <td style="text-align: center;"><%- item.nome_medidor %></td>
                            <td style="text-align: center;"><%- item.estado %></td>
                            <td style="text-align: center;"><%- item.cidade %></td>
                            <td style="text-align: center;"><%- item.vazao %></td>
                            <td style="text-align: center;"><%- item.datat %></td>
                            <td style="text-align: center;"><%- item.datah %></td>

    <!-- BOTÃO QUE SALVA A ALTERAÇÃO -->         

                            <td style="text-align: center;">
                                <div style="margin: 5px;" class="editar_h">
                                    <button type="button" class="btn btn-primary">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                                            <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                                            <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                                        </svg>
                                    </button>
                                </div> 

    <!-- BOTÃO QUE CANCELA A ALTERAÇÃO -->

                              <button type="button" class="btn btn-primary">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eraser-fill" viewBox="0 0 16 16">
                                        <path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"/>
                                 </svg>
                            </button>
                            </td>
                            </tr>
                    <% } %>
                </tbody>
            </table>  
        </div>
              </table>

              <div id="tabela_edit_h" class="table-responsive">

    <!-- TITULOS DAS COLUNAS -->

                <table class="table table-hover table-bordered border-dark">
                    <thead>
                      <tr>
                        <th scope="col">Id</th>
                        <th scope="col">Nome</th>
                        <th scope="col">Estado</th>
                        <th scope="col">Cidade</th>
                        <th scope="col">Vazao</th>
                        <th scope="col">Data</th>
                        <th scope="col">Horario</th>
                        <th scope="col">Alterações</th>
                      </tr>
                    </thead>

    <!-- DADOS QUE PREENCHERÃO A TABELA -->

                    <tbody>
                        <% for (item of historico) { %>
                            <tr>
                                <td style="min-width:80px"><input type="text"  value="<%- item.id_medidor %>"class="form-control" aria-describedby="passwordHelpInline"></td>
                                <td style="min-width:80px"><input type="text"  value="<%- item.nome_medidor %>"class="form-control" aria-describedby="passwordHelpInline"></td>
                                <td style="min-width:80px"><input type="text"  value="<%- item.estado %>"class="form-control" aria-describedby="passwordHelpInline"></td>
                                <td style="min-width:80px"><input type="text"  value="<%- item.cidade %>"class="form-control" aria-describedby="passwordHelpInline"></td>
                                <td style="min-width:80px"><input type="text"  value="<%- item.vazao %>"class="form-control" aria-describedby="passwordHelpInline"></td>
                                <td style="min-width:80px"><input type="date"  value="<%- item.datat %>"class="form-control" aria-describedby="passwordHelpInline"></td>
                                <td style="min-width:80px"><input type="time"  value="<%- item.datah %>"class="form-control" aria-describedby="passwordHelpInline"></td>

    <!-- BOTÃO QUE SALVA A ALTERAÇÃO -->                                
                                
                                <td style="text-align: center;max-width:100px;">
                                    <button style="margin: 5px;" type="button" class="btn btn-primary">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-save2" viewBox="0 0 16 16">
                                            <path d="M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v4.5h2a.5.5 0 0 1 .354.854l-2.5 2.5a.5.5 0 0 1-.708 0l-2.5-2.5A.5.5 0 0 1 5.5 6.5h2V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1H2z"/>
                                        </svg>
                                    </button> 

    <!-- BOTÃO QUE CANCELA A ALTERAÇÃO -->

                                <div style="margin: 5px;" class="cancelar">
                                    <button  type="button" class="btn btn-primary">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
                                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>
                                        </svg>
                                    </button>
                                </div>                                    
                                </td>
                                </tr>
                        <% } %>
                    </tbody>
                  </table>              
        </div>
    </div>
        <!--RODAPE DA PAGINA-->

        <footer  class="bg-primary text-center text-lg-start">
          <div class="text-center p-3">
              <a id="footer">Oficinas 4.0</a>
            </div>
  </footer>
</body>
</html>